!function(){"use strict";class t{constructor(){this.countDefeat=0,this.countVictory=0,this.defeat=document.querySelector(".defeat"),this.victory=document.querySelector(".victory")}increaseDefeat(){this.countDefeat++,this.defeat.innerText=this.countDefeat}increaseVictory(){this.countVictory++,this.victory.innerText=this.countVictory}}class e{constructor(){this.holes=Array.from(document.querySelectorAll(".hole")),this.count=new t,this.currentIndex=null,this.interval=null}victoryClick(t){t.target.classList.contains("goblin")&&(this.count.increaseVictory(),t.target.removeEventListener("click",this.victoryClick),10===this.count.countVictory&&(alert("победа"),this.closeGame()),document.querySelector(".goblin").remove(),clearInterval(this.interval),this.punshGoblin())}punshGoblin(){document.querySelector(".goblin")&&(document.querySelector(".goblin").remove(),this.count.increaseDefeat(),clearInterval(this.interval),5===this.count.countDefeat&&(alert("поражение"),this.closeGame()));let t=Math.floor(Math.random()*this.holes.length);for(;t===this.currentIndex;)t=Math.floor(Math.random()*this.holes.length);let e=this.holes[t];this.currentIndex=t;const n=document.createElement("div");n.classList.add("goblin"),e.appendChild(n),n.addEventListener("click",this.victoryClick.bind(this)),this.interval=setInterval(this.punshGoblin.bind(this),2e3)}closeGame(){this.count.countDefeat=0,this.count.defeat.innerText=0,this.count.countVictory=0,this.count.victory.innerText=0}}document.addEventListener("DOMContentLoaded",(()=>{const t=new e;t.punshGoblin.bind(t)()}));const n=document.querySelector(".cursor");window.addEventListener("mousemove",(function(t){n.style.top=`${t.pageY}px`,n.style.left=`${t.pageX}px`}))}();